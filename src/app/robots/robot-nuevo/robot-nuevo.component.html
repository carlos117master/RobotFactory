<div class="container">
  <div class="row">
      <div class="col-md-12">
          <div class="well well-sm">
              <form class="form-horizontal" method="post" [formGroup]="robotForm" (ngSubmit)="addRobot()">
                  <fieldset>
                      <legend class="text-center header text-warning">Sube un robot</legend>

                      <div class="form-group">
                          <label for="validationTooltip01" class="col-md-1 col-md-offset-2 text-center"><i class="fa fa-user bigicon"></i></label>
                          <div class="col-md-8 position-relative">
                              <input id="validationTooltip01" name="titulo" type="text" formControlName="titulo" placeholder="Titulo" class="form-control" [ngClass]="validClasses(title, 'is-invalid')">
                              <div class="valid-tooltip">
                                  Looks good!
                              </div>
                              @if(title.errors?.['minlength']) {
                              <div class="invalid-feedback">
                                  You must enter at least
                                  {{title.errors?.['minlength'].requiredLength - title.errors?.['minlength'].actualLength}}
                                  characters more
                              </div>
                              }
                              @if(title.errors?.['pattern']){
                              <div class="invalid-feedback">
                                  You must enter the correct format
                              </div>
                              }
                          </div>
                      </div>

                      <div class="form-group">
                          <label for="validationTooltip02" class="col-md-1 col-md-offset-2 text-center"><i class="fa fa-pencil-square-o bigicon"></i></label>
                          <div class="col-md-8 position-relative">
                              <textarea class="form-control" id="validationTooltip02" formControlName="descripcion" name="descripcion" placeholder="Ingresa la descripcion del robot..." rows="7" [ngClass]="validClasses(description, 'is-invalid')"></textarea>
                              <div class="valid-tooltip">
                                  Looks good!
                              </div>
                              @if(description.errors?.['minlength']) {
                              <div class="invalid-feedback">
                                  You must enter at least
                                  {{description.errors?.['minlength'].requiredLength - description.errors?.['minlength'].actualLength}}
                                  characters more
                              </div>
                              }
                          </div>
                      </div>

                      <div class="form-group mb-3">
                          <label for="image" class="col-md-1 col-md-offset-2 text-center"><i class="fa fa-camera bigicon"></i> Photo</label>
                          <div class="col-md-8 position-relative">
                              <input type="file" class="form-control" accept="image/*" (change)="changeImage($event)" formControlName="imagen" name="imagen" [ngClass]="validClasses(image, 'is-invalid')">
                              <div class="valid-tooltip">
                                  Looks good!
                              </div>
                              <img [src]="imggBase64" alt="" id="imgPreview" class="img-thumbnail mt-2" />
                              <p class="text-danger" id="errorInfo"></p>
                          </div>
                      </div>

                      <div class="form-group">
                          <div class="col-md-12 text-center">
                              <button type="submit" [disabled]="robotForm.invalid" class="btn btn-primary btn-lg">Subir Robot</button>
                          </div>
                      </div>

                      @if(robotForm.errors?.['postForm']){
                          <div class="col my-auto text-danger">
                              Debe tener al menos una descripcion y un titulo
                          </div>
                      }
                  </fieldset>
              </form>
          </div>
      </div>
  </div>
</div>
