
<!--<div class="container-fuid imgHeader">
    <div class="imgHeader-text pt-5 text-warning">
      <h1>
        <a class="text-decoration-none" [routerLink]="['/login']">Go Back</a>/register
      </h1>
    </div>
  </div>

<main class="container-fluid mt-4 mb-4">
    <form class="row g-3 needs-validation" (ngSubmit)="addUser()" #addForm="ngForm" method="POST" role="form">
        <div class="col-md-4 position-relative">
            <label for="validationTooltipUsername" class="form-label text-warning">Nickname</label>
            <div class="input-group has-validation">
              <span class="input-group-text" id="validationTooltipUsernamePrepend"></span>
              <input type="text" class="form-control" id="validationTooltipUsername" aria-describedby="validationTooltipUsernamePrepend" name="nickname" [(ngModel)]="nickname" #nicknameModel="ngModel" [ngClass]="validClasses(nicknameModel, 'is-valid', 'is-invalid')" required>
              <div class="invalid-tooltip">
                Ingresa un Username valido.
              </div>
            </div>
          </div>
        <div class="col-md-4 position-relative">
          <label for="validationTooltip01" class="form-label text-warning">email</label>
          <input type="email" class="form-control" id="validationTooltip01" name="email" [(ngModel)]="email" #emailModel="ngModel" [ngClass]="validClasses(emailModel, 'is-valid', 'is-invalid')" required>
              @if(emailModel.errors?.['required']) {
                <div class="invalid-tooltip">
                  email cannot be empty
                </div>
              }@else if(emailModel.valid){
                <div class="valid-tooltip">
                  Looks good
                </div>
             }
        </div>
        <div class="col-md-4 position-relative">
          <label for="validationTooltip02" class="form-label text-warning">Repeat email</label>
          <input type="email" class="form-control" id="validationTooltip02" name="repetirEmail" [(ngModel)]="repetirEmail" #repetirEmailModel="ngModel" [ngClass]="validClasses(emailModel, 'is-valid', 'is-invalid')" required>
          @if(!compararEmails()){
              <div class="invalid-tooltip">
                emails do not match
              </div>
           }@else if(repetirEmailModel.valid && compararEmails()) {
            <div class="valid-tooltip">
              Looks good
            </div>
           }
        </div>
        <div class="col-md-6 position-relative">
          <label for="validationTooltip03" class="form-label text-warning">Password</label>
          <input type="password" class="form-control" id="validationTooltip03" name="password" [(ngModel)]="password" name="password" #passModel="ngModel" [ngClass]="validClasses(passModel,'is-valid', 'is-invalid')" required>
          <div class="invalid-tooltip">
            type password
          </div>
        </div>
        <div class="col-md-6 position-relative">
            <label for="validationTooltip03" class="form-label text-warning">Repeat Password</label>
            <input type="password" class="form-control" id="validationTooltip03" name="repetirPass" [(ngModel)]="repetirPass" name="password" #repetirPassModel="ngModel" [ngClass]="validClasses(passModel,'is-valid', 'is-invalid')" required>
            <div class="invalid-tooltip">
              type password again
            </div>
          </div>
          <div class="mb-3">
            <label for="avatar">Avatar image</label>
            <input type="file" class="form-control" id="avatar" name="avatar" (change)="changeImage($event)"
            ngModel
            #imageModel="ngModel"
            [ngClass]="validClasses(imageModel,'is-valid', 'is-invalid')"
            />
            <div class="invalid-feedback">Image is required</div>
          </div>
          <img [src]="imggBase64" alt="" id="imgPreview" class="img-thumbnail" />
          <p class="text-danger" id="errorInfo"></p>
          <a class="btn btn-secondary" [routerLink]="['/login']" routerLinkActive="router-link-active"  role="button">Go back</a>
          <button type="submit" class="btn btn-primary" [disabled]="addForm.invalid">Create account</button>
      </form>
</main>-->
<div class="container-fuid imgHeader">
  <div class="imgHeader-text pt-5 text-warning">
      <h1>
          <a class="text-decoration-none" [routerLink]="['/login']">Go Back</a>/register
      </h1>
  </div>
</div>

<main class="container-fluid mt-4 mb-4">
  <form class="row g-3 needs-validation" (ngSubmit)="addUser()" #addForm="ngForm" method="POST" role="form">
      <div class="col-md-4 position-relative">
          <label for="validationTooltipUsername" class="form-label text-warning">Nickname</label>
          <div class="input-group has-validation">
              <span class="input-group-text" id="validationTooltipUsernamePrepend"></span>
              <input type="text" class="form-control" id="validationTooltipUsername" aria-describedby="validationTooltipUsernamePrepend" name="nickname" [(ngModel)]="nickname" #nicknameModel="ngModel" [ngClass]="validClasses(nicknameModel, 'is-valid', 'is-invalid')" required>
              <div class="invalid-tooltip">
                  Ingresa un Username valido.
              </div>
          </div>
      </div>
      <div class="col-md-4 position-relative">
          <label for="validationTooltip01" class="form-label text-warning">Email</label>
          <input type="email" class="form-control" id="validationTooltip01" name="email" [(ngModel)]="email" #emailModel="ngModel" [ngClass]="validClasses(emailModel, 'is-valid', 'is-invalid')" required>
          <div *ngIf="emailModel.errors?.['required']" class="invalid-tooltip">
              Email cannot be empty
          </div>
          <div *ngIf="emailModel.errors?.['email']" class="invalid-tooltip">
              Invalid email format
          </div>
          <div *ngIf="emailModel.valid" class="valid-tooltip">
              Looks good
          </div>
      </div>
      <div class="col-md-4 position-relative">
          <label for="validationTooltip02" class="form-label text-warning">Repeat Email</label>
          <input type="email" class="form-control" id="validationTooltip02" name="repetirEmail" [(ngModel)]="repetirEmail" #repetirEmailModel="ngModel" [ngClass]="{'is-valid': repetirEmailModel.touched && compararEmails(), 'is-invalid': repetirEmailModel.touched && !compararEmails()}" required>
          <div *ngIf="repetirEmailModel.touched && !compararEmails()" class="invalid-tooltip">
              Emails do not match
          </div>
          <div *ngIf="repetirEmailModel.touched && compararEmails()" class="valid-tooltip">
              Looks good
          </div>
      </div>
      <div class="col-md-6 position-relative">
          <label for="validationTooltip03" class="form-label text-warning">Password</label>
          <input type="password" class="form-control" id="validationTooltip03" name="password" [(ngModel)]="password" #passModel="ngModel" [ngClass]="validClasses(passModel,'is-valid', 'is-invalid')" required>
          <div class="invalid-tooltip">
              Type password
          </div>
      </div>
      <div class="col-md-6 position-relative">
          <label for="validationTooltip03" class="form-label text-warning">Repeat Password</label>
          <input type="password" class="form-control" id="validationTooltip03" name="repetirPass" [(ngModel)]="repetirPass" #repetirPassModel="ngModel" [ngClass]="{'is-valid': repetirPassModel.touched && COmpararPasswords(), 'is-invalid': repetirPassModel.touched && !COmpararPasswords()}" required>
          <div *ngIf="repetirPassModel.touched && !COmpararPasswords()" class="invalid-tooltip">
              Passwords do not match
          </div>
          <div *ngIf="repetirPassModel.touched && COmpararPasswords()" class="valid-tooltip">
              Looks good
          </div>
      </div>
      <p class="text-danger" id="errorInfo"></p>
      <button type="submit" class="btn btn-primary" [disabled]="addForm.invalid">Create account</button>
  </form>
</main>
